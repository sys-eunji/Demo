<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Welcome to example.com</title>
	<link rel="stylesheet" th:href="@{/webjars/bootstrap/3.4.1/css/bootstrap.min.css}" />
	<link rel="stylesheet" th:href="@{/webjars/bootstrap/3.4.1/css/bootstrap-theme.min.css}" />
	<script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
	<script src="https://cdn.ckeditor.com/4.15.1/standard/ckeditor.js"></script>
	<script>
		$(function(){
			$('#company').on('change', function(){
				let company = document.getElementById("company")
				if(company.selectedIndex == 4){  //직접입력을 선택했다면
					$(this).replaceWith("<input type='text' name='company' class='form-control'>");
				}
			});
		});
		
	</script>
</head>
<body>
<h1 class="text-center">게시판 글 쓰기</h1>
  <div class="container">
    <div class="row">
      <form class="form-horizontal" action="/write" method="POST" 
      	enctype="multipart/form-data">
        <div class="form-group">
          <label for="txtName" class="col-sm-2 control-label">작성자</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" name="name" id="txtName" 
            placeholder="작성자의 이름을 입력합니다." required>
          </div>
        </div>
        <div class="form-group">
          <label for="txtEmail" class="col-sm-2 control-label">Email</label>
          <div class="col-sm-3">
            <input type="text" name="email" class="form-control" 
            	id="txtEmail" placeholder="글쓴이의 Email을 입력합니다.">
          </div>
          <div class="input-group  col-sm-3">
        	<span class="input-group-addon">@</span>
        	<select class="form-control" name="company" id="company">
  				<option value="naver.com">네이버</option>
  				<option value="hanmail.net">한메일</option>
			  	<option value="google.com">구글</option>
			  	<option value="nate.com">네이트</option>
			  	<option>직접입력</option>
				</select>
      	  </div>
        </div>
        <div class="form-group">
          <label for="txtTitle" class="col-sm-2 control-label">글 제목</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" name="title" id="txtTitle" 
            placeholder="글 제목을 입력합니다." required>
          </div>
        </div>
        <div class="form-group">
          <label for="txtFile" class="col-sm-2 control-label">파일</label>
          <div class="col-sm-8">
            <input type="file" class="form-control" name="file" id="txtFile">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">글 내용</label>
          <div class="col-sm-8">
            <textarea class="form-control" rows="10" required="required" name="contents"></textarea>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-success" id='btnSubmit'>등록하기</button>
            <button type="reset" class="btn btn-warning">취소하기</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <script>
		CKEDITOR.replace( 'contents' );
  </script>
</body>
</html>